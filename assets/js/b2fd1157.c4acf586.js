"use strict";(self.webpackChunkzustand_zh=self.webpackChunkzustand_zh||[]).push([[883],{1786:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>s,metadata:()=>u,toc:()=>d});var t=n(4848),o=n(8453);const s={title:"\u4e0e Next.js \u7684\u8bbe\u7f6e",nav:21},i=void 0,u={id:"guides/nextjs",title:"\u4e0e Next.js \u7684\u8bbe\u7f6e",description:"Next.js \u662f\u4e00\u4e2a\u6d41\u884c\u7684 React \u670d\u52a1\u5668\u7aef\u6e32\u67d3\u6846\u67b6\uff0c\u5b83\u5bf9 Zustand \u7684\u4f7f\u7528\u63d0\u51fa\u4e86\u4e00\u4e9b\u72ec\u7279\u7684\u6311\u6218\u3002\u8bf7\u8bb0\u4f4f\uff0cZustand \u5b58\u50a8\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff08\u4e5f\u79f0\u4e3a\u6a21\u5757\u72b6\u6001\uff09\uff0c\u4f7f\u5f97\u4f7f\u7528 Context \u53d8\u5f97\u53ef\u9009\u3002\u8fd9\u4e9b\u6311\u6218\u5305\u62ec\uff1a",source:"@site/docs/guides/nextjs.md",sourceDirName:"guides",slug:"/guides/nextjs",permalink:"/zustand-zh/docs/guides/nextjs",draft:!1,unlisted:!1,editUrl:"https://github.com/ouweiya/zustand-zh/blob/master/docs/guides/nextjs.md",tags:[],version:"current",frontMatter:{title:"\u4e0e Next.js \u7684\u8bbe\u7f6e",nav:21},sidebar:"tutorialSidebar",previous:{title:"\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u548c\u6ce8\u6c34",permalink:"/zustand-zh/docs/guides/ssr-and-hydration"},next:{title:"Immer \u4e2d\u95f4\u4ef6",permalink:"/zustand-zh/docs/integrations/immer-middleware"}},c={},d=[{value:"\u6bcf\u8bf7\u6c42\u4e00\u6b21\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8",id:"creating-a-store-per-request",level:3},{value:"\u63d0\u4f9b\u5b58\u50a8",id:"providing-the-store",level:3},{value:"\u521d\u59cb\u5316\u5b58\u50a8",id:"initializing-the-store",level:3},{value:"\u5728\u4e0d\u540c\u67b6\u6784\u4e2d\u4f7f\u7528\u5b58\u50a8",id:"using-the-store-with-different-architectures",level:3},{value:"\u9875\u9762\u8def\u7531\u5668",id:"pages-router",level:4},{value:"App Router",id:"app-router",level:4}];function a(e){const r={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"https://nextjs.org",children:"Next.js"})," \u662f\u4e00\u4e2a\u6d41\u884c\u7684 React \u670d\u52a1\u5668\u7aef\u6e32\u67d3\u6846\u67b6\uff0c\u5b83\u5bf9 Zustand \u7684\u4f7f\u7528\u63d0\u51fa\u4e86\u4e00\u4e9b\u72ec\u7279\u7684\u6311\u6218\u3002\u8bf7\u8bb0\u4f4f\uff0cZustand \u5b58\u50a8\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff08\u4e5f\u79f0\u4e3a\u6a21\u5757\u72b6\u6001\uff09\uff0c\u4f7f\u5f97\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"Context"})," \u53d8\u5f97\u53ef\u9009\u3002\u8fd9\u4e9b\u6311\u6218\u5305\u62ec\uff1a"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u6bcf\u8bf7\u6c42\u4e00\u6b21\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8"}),"\uff1aNext.js \u670d\u52a1\u5668\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\u3002\u8fd9\u610f\u5473\u7740\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u521b\u5efa\u5b58\u50a8\uff0c\u800c\u4e0d\u5e94\u8be5\u5728\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\u5b58\u50a8\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u652f\u6301 SSR"}),'\uff1aNext.js \u5e94\u7528\u7a0b\u5e8f\u4f1a\u88ab\u6e32\u67d3\u4e24\u6b21\uff0c\u9996\u5148\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u7136\u540e\u5728\u5ba2\u6237\u7aef\u4e0a\u3002\u5982\u679c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e0a\u7684\u8f93\u51fa\u4e0d\u540c\uff0c\u5c06\u4f1a\u5bfc\u81f4 "hydration errors"\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u521d\u59cb\u5316\u5b58\u50a8\uff0c\u7136\u540e\u5728\u5ba2\u6237\u7aef\u4e0a\u7528\u76f8\u540c\u7684\u6570\u636e\u91cd\u65b0\u521d\u59cb\u5316\u5b58\u50a8\u3002\u8bf7\u5728\u6211\u4eec\u7684 ',(0,t.jsx)(r.a,{href:"./ssr-and-hydration",children:"SSR \u548c Hydration"})," \u6307\u5357\u4e2d\u9605\u8bfb\u66f4\u591a\u76f8\u5173\u5185\u5bb9\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u652f\u6301 SPA \u8def\u7531"}),"\uff1aNext.js \u652f\u6301\u5ba2\u6237\u7aef\u8def\u7531\u7684\u6df7\u5408\u6a21\u578b\uff0c\u8fd9\u610f\u5473\u7740\u4e3a\u4e86\u91cd\u7f6e\u5b58\u50a8\uff0c\u6211\u4eec\u9700\u8981\u5728\u7ec4\u4ef6\u7ea7\u522b\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"Context"})," \u6765\u521d\u59cb\u5316\u5b83\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u652f\u6301\u670d\u52a1\u5668\u7f13\u5b58"}),"\uff1a\u6700\u8fd1\u7248\u672c\u7684 Next.js\uff08\u7279\u522b\u662f\u4f7f\u7528 App Router \u67b6\u6784\u7684\u5e94\u7528\u7a0b\u5e8f\uff09\u652f\u6301\u79ef\u6781\u7684\u670d\u52a1\u5668\u7f13\u5b58\u3002\u7531\u4e8e\u6211\u4eec\u7684\u5b58\u50a8\u662f\u4e00\u4e2a ",(0,t.jsx)(r.strong,{children:"\u6a21\u5757\u72b6\u6001"}),"\uff0c\u6240\u4ee5\u5b83\u5b8c\u5168\u517c\u5bb9\u8fd9\u79cd\u7f13\u5b58\u3002"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"\u6211\u4eec\u5bf9 Zustand \u7684\u9002\u5f53\u4f7f\u7528\u6709\u4ee5\u4e0b\u4e00\u822c\u5efa\u8bae\uff1a"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u4e0d\u4f7f\u7528\u5168\u5c40\u5b58\u50a8"})," - \u56e0\u4e3a\u5b58\u50a8\u4e0d\u5e94\u8be5\u5728\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\uff0c\u6240\u4ee5\u4e0d\u5e94\u8be5\u5c06\u5176\u5b9a\u4e49\u4e3a\u5168\u5c40\u53d8\u91cf\u3002\u76f8\u53cd\uff0c\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u521b\u5efa\u5b58\u50a8\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"React \u670d\u52a1\u5668\u7ec4\u4ef6\u4e0d\u5e94\u8be5\u4ece\u5b58\u50a8\u4e2d\u8bfb\u53d6\u6216\u5199\u5165"})," - RSCs \u4e0d\u80fd\u4f7f\u7528\u94a9\u5b50\u6216\u4e0a\u4e0b\u6587\u3002\u4ed6\u4eec\u4e0d\u5e94\u8be5\u6709\u72b6\u6001\u3002\u8ba9 RSC \u4ece\u5168\u5c40\u5b58\u50a8\u4e2d\u8bfb\u53d6\u6216\u5199\u5165\u503c\u8fdd\u53cd\u4e86 Next.js \u7684\u67b6\u6784\u3002"]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"creating-a-store-per-request",children:"\u6bcf\u8bf7\u6c42\u4e00\u6b21\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8"}),"\n",(0,t.jsx)(r.p,{children:"\u8ba9\u6211\u4eec\u7f16\u5199\u6211\u4eec\u7684\u5b58\u50a8\u5de5\u5382\u51fd\u6570\uff0c\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b58\u50a8\u3002"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'// tsconfig.json\r\n{\r\n  "compilerOptions": {\r\n    "lib": ["dom", "dom.iterable", "esnext"],\r\n    "allowJs": true,\r\n    "skipLibCheck": true,\r\n    "strict": true,\r\n    "noEmit": true,\r\n    "esModuleInterop": true,\r\n    "module": "esnext",\r\n    "moduleResolution": "bundler",\r\n    "resolveJsonModule": true,\r\n    "isolatedModules": true,\r\n    "jsx": "preserve",\r\n    "incremental": true,\r\n    "plugins": [\r\n      {\r\n        "name": "next"\r\n      }\r\n    ],\r\n    "paths": {\r\n      "@/*": ["./src/*"]\r\n    }\r\n  },\r\n  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],\r\n  "exclude": ["node_modules"]\r\n}\n'})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:["**\u6ce8\u610f\uff1a**\u4e0d\u8981\u5fd8\u8bb0\u4ece\u4f60\u7684 ",(0,t.jsx)(r.code,{children:"tsconfig.json"})," \u6587\u4ef6\u4e2d\u5220\u9664\u6240\u6709\u7684\u6ce8\u91ca\u3002"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"// src/stores/counter-store.ts\r\nimport { createStore } from 'zustand/vanilla'\r\n\r\nexport type CounterState = {\r\n  count: number\r\n}\r\n\r\nexport type CounterActions = {\r\n  decrementCount: () => void\r\n  incrementCount: () => void\r\n}\r\n\r\nexport type CounterStore = CounterState & CounterActions\r\n\r\nexport const defaultInitState: CounterState = {\r\n  count: 0,\r\n}\r\n\r\nexport const createCounterStore = (\r\n  initState: CounterState = defaultInitState,\r\n) => {\r\n  return createStore<CounterStore>()((set) => ({\r\n    ...initState,\r\n    decrementCount: () => set((state) => ({ count: state.count - 1 })),\r\n    incrementCount: () => set((state) => ({ count: state.count + 1 })),\r\n  }))\r\n}\n"})}),"\n",(0,t.jsx)(r.h3,{id:"providing-the-store",children:"\u63d0\u4f9b\u5b58\u50a8"}),"\n",(0,t.jsxs)(r.p,{children:["\u8ba9\u6211\u4eec\u5728\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"createCounterStore"})," \u5e76\u901a\u8fc7\u4e0a\u4e0b\u6587\u63d0\u4f9b\u5668\u5171\u4eab\u5b83\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/providers/counter-store-provider.tsx\r\n'use client'\r\n\r\nimport { type ReactNode, createContext, useRef, useContext } from 'react'\r\nimport { useStore } from 'zustand'\r\n\r\nimport { type CounterStore, createCounterStore } from '@/stores/counter-store'\r\n\r\nexport type CounterStoreApi = ReturnType<typeof createCounterStore>\r\n\r\nexport const CounterStoreContext = createContext<CounterStoreApi | undefined>(\r\n  undefined,\r\n)\r\n\r\nexport interface CounterStoreProviderProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport const CounterStoreProvider = ({\r\n  children,\r\n}: CounterStoreProviderProps) => {\r\n  const storeRef = useRef<CounterStoreApi>()\r\n  if (!storeRef.current) {\r\n    storeRef.current = createCounterStore()\r\n  }\r\n\r\n  return (\r\n    <CounterStoreContext.Provider value={storeRef.current}>\r\n      {children}\r\n    </CounterStoreContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useCounterStore = <T,>(\r\n  selector: (store: CounterStore) => T,\r\n): T => {\r\n  const counterStoreContext = useContext(CounterStoreContext)\r\n\r\n  if (!counterStoreContext) {\r\n    throw new Error(`useCounterStore must be used within CounterStoreProvider`)\r\n  }\r\n\r\n  return useStore(counterStoreContext, selector)\r\n}\n"})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"**\u6ce8\u610f\uff1a**\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u68c0\u67e5\u5f15\u7528\u7684\u503c\u6765\u786e\u4fdd\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u53ef\u91cd\u65b0\u6e32\u67d3\u7684\uff0c\u6240\u4ee5\u5b58\u50a8\u53ea\u4f1a\u88ab\u521b\u5efa\u4e00\u6b21\u3002\u8fd9\u4e2a\u7ec4\u4ef6\u5728\u670d\u52a1\u5668\u4e0a\u6bcf\u4e2a\u8bf7\u6c42\u53ea\u4f1a\u88ab\u6e32\u67d3\u4e00\u6b21\uff0c\u4f46\u662f\u5982\u679c\u5728\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u6811\u4e0a\u6709\u72b6\u6001\u7684\u5ba2\u6237\u7aef\u7ec4\u4ef6\uff0c\u6216\u8005\u5982\u679c\u8fd9\u4e2a\u7ec4\u4ef6\u4e5f\u5305\u542b\u5176\u4ed6\u5bfc\u81f4\u91cd\u65b0\u6e32\u67d3\u7684\u53ef\u53d8\u72b6\u6001\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u4f1a\u5728\u5ba2\u6237\u7aef\u88ab\u91cd\u65b0\u6e32\u67d3\u591a\u6b21\u3002"}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"initializing-the-store",children:"\u521d\u59cb\u5316\u5b58\u50a8"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"// src/stores/counter-store.ts\r\nimport { createStore } from 'zustand/vanilla'\r\n\r\nexport type CounterState = {\r\n  count: number\r\n}\r\n\r\nexport type CounterActions = {\r\n  decrementCount: () => void\r\n  incrementCount: () => void\r\n}\r\n\r\nexport type CounterStore = CounterState & CounterActions\r\n\r\nexport const initCounterStore = (): CounterState => {\r\n  return { count: new Date().getFullYear() }\r\n}\r\n\r\nexport const defaultInitState: CounterState = {\r\n  count: 0,\r\n}\r\n\r\nexport const createCounterStore = (\r\n  initState: CounterState = defaultInitState,\r\n) => {\r\n  return createStore<CounterStore>()((set) => ({\r\n    ...initState,\r\n    decrementCount: () => set((state) => ({ count: state.count - 1 })),\r\n    incrementCount: () => set((state) => ({ count: state.count + 1 })),\r\n  }))\r\n}\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/providers/counter-store-provider.tsx\r\n'use client'\r\n\r\nimport { type ReactNode, createContext, useRef, useContext } from 'react'\r\nimport { useStore } from 'zustand'\r\n\r\nimport {\r\n  type CounterStore,\r\n  createCounterStore,\r\n  initCounterStore,\r\n} from '@/stores/counter-store'\r\n\r\nexport type CounterStoreApi = ReturnType<typeof createCounterStore>\r\n\r\nexport const CounterStoreContext = createContext<CounterStoreApi | undefined>(\r\n  undefined,\r\n)\r\n\r\nexport interface CounterStoreProviderProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport const CounterStoreProvider = ({\r\n  children,\r\n}: CounterStoreProviderProps) => {\r\n  const storeRef = useRef<CounterStoreApi>()\r\n  if (!storeRef.current) {\r\n    storeRef.current = createCounterStore(initCounterStore())\r\n  }\r\n\r\n  return (\r\n    <CounterStoreContext.Provider value={storeRef.current}>\r\n      {children}\r\n    </CounterStoreContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useCounterStore = <T,>(\r\n  selector: (store: CounterStore) => T,\r\n): T => {\r\n  const counterStoreContext = useContext(CounterStoreContext)\r\n\r\n  if (!counterStoreContext) {\r\n    throw new Error(`useCounterStore must be used within CounterStoreProvider`)\r\n  }\r\n\r\n  return useStore(counterStoreContext, selector)\r\n}\n"})}),"\n",(0,t.jsx)(r.h3,{id:"using-the-store-with-different-architectures",children:"\u5728\u4e0d\u540c\u67b6\u6784\u4e2d\u4f7f\u7528\u5b58\u50a8"}),"\n",(0,t.jsxs)(r.p,{children:["Next.js\u5e94\u7528\u6709\u4e24\u79cd\u67b6\u6784\uff1a",(0,t.jsx)(r.a,{href:"https://nextjs.org/docs/pages/building-your-application/routing",children:"\u9875\u9762\u8def\u7531\u5668"}),"\u548c",(0,t.jsx)(r.a,{href:"https://nextjs.org/docs/app/building-your-application/routing",children:"\u5e94\u7528\u8def\u7531\u5668"}),"\u3002\u5728\u8fd9\u4e24\u79cd\u67b6\u6784\u4e0a\u4f7f\u7528Zustand\u7684\u65b9\u5f0f\u5e94\u8be5\u662f\u76f8\u540c\u7684\uff0c\u53ea\u662f\u4e0e\u6bcf\u79cd\u67b6\u6784\u76f8\u5173\u7684\u7ec6\u5fae\u5dee\u522b\u3002"]}),"\n",(0,t.jsx)(r.h4,{id:"pages-router",children:"\u9875\u9762\u8def\u7531\u5668"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:'// src/components/pages/home-page.tsx\r\nimport { useCounterStore } from \'@/providers/counter-store-provider.ts\'\r\n\r\nexport const HomePage = () => {\r\n  const { count, incrementCount, decrementCount } = useCounterStore(\r\n    (state) => state,\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      Count: {count}\r\n      <hr />\r\n      <button type="button" onClick={() => void incrementCount()}>\r\n        Increment Count\r\n      </button>\r\n      <button type="button" onClick={() => void decrementCount()}>\r\n        Decrement Count\r\n      </button>\r\n    </div>\r\n  )\r\n}\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/_app.tsx\r\nimport type { AppProps } from 'next/app'\r\n\r\nimport { CounterStoreProvider } from '@/providers/counter-store-provider.tsx'\r\n\r\nexport default function App({ Component, pageProps }: AppProps) {\r\n  return (\r\n    <CounterStoreProvider>\r\n      <Component {...pageProps} />\r\n    </CounterStoreProvider>\r\n  )\r\n}\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/pages/index.tsx\r\nimport { HomePage } from '@/components/pages/home-page.tsx'\r\n\r\nexport default function Home() {\r\n  return <HomePage />\r\n}\n"})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"**\u6ce8\u610f\uff1a**\u6bcf\u4e2a\u8def\u7531\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8\u4f1a\u9700\u8981\u5728\u9875\u9762\uff08\u8def\u7531\uff09\u7ec4\u4ef6\u7ea7\u522b\u521b\u5efa\u548c\u5171\u4eab\u5b58\u50a8\u3002\u5982\u679c\u4f60\u4e0d\u9700\u8981\u4e3a\u6bcf\u4e2a\u8def\u7531\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8\uff0c\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/pages/index.tsx\r\nimport { CounterStoreProvider } from '@/providers/counter-store-provider.tsx'\r\nimport { HomePage } from '@/components/pages/home-page.tsx'\r\n\r\nexport default function Home() {\r\n  return (\r\n    <CounterStoreProvider>\r\n      <HomePage />\r\n    </CounterStoreProvider>\r\n  )\r\n}\n"})}),"\n",(0,t.jsx)(r.h4,{id:"app-router",children:"App Router"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/components/pages/home-page.tsx\r\n'use client'\r\n\r\nimport { useCounterStore } from '@/providers/counter-store-provider'\r\n\r\nexport const HomePage = () => {\r\n  const { count, incrementCount, decrementCount } = useCounterStore(\r\n    (state) => state,\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      Count: {count}\r\n      <hr />\r\n      <button type=\"button\" onClick={() => void incrementCount()}>\r\n        Increment Count\r\n      </button>\r\n      <button type=\"button\" onClick={() => void decrementCount()}>\r\n        Decrement Count\r\n      </button>\r\n    </div>\r\n  )\r\n}\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/app/layout.tsx\r\nimport type { Metadata } from 'next'\r\nimport { Inter } from 'next/font/google'\r\nimport './globals.css'\r\n\r\nimport { CounterStoreProvider } from '@/providers/counter-store-provider'\r\n\r\nconst inter = Inter({ subsets: ['latin'] })\r\n\r\nexport const metadata: Metadata = {\r\n  title: 'Create Next App',\r\n  description: 'Generated by create next app',\r\n}\r\n\r\nexport default function RootLayout({\r\n  children,\r\n}: Readonly<{\r\n  children: React.ReactNode\r\n}>) {\r\n  return (\r\n    <html lang=\"en\">\r\n      <body className={inter.className}>\r\n        <CounterStoreProvider>{children}</CounterStoreProvider>\r\n      </body>\r\n    </html>\r\n  )\r\n}\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/app/page.tsx\r\nimport { HomePage } from '@/components/pages/home-page'\r\n\r\nexport default function Home() {\r\n  return <HomePage />\r\n}\n"})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"**\u6ce8\u610f\uff1a**\u6bcf\u4e2a\u8def\u7531\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8\u4f1a\u9700\u8981\u5728\u9875\u9762\uff08\u8def\u7531\uff09\u7ec4\u4ef6\u7ea7\u522b\u521b\u5efa\u548c\u5171\u4eab\u5b58\u50a8\u3002\u5982\u679c\u4f60\u4e0d\u9700\u8981\u4e3a\u6bcf\u4e2a\u8def\u7531\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8\uff0c\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",children:"// src/app/page.tsx\r\nimport { CounterStoreProvider } from '@/providers/counter-store-provider'\r\nimport { HomePage } from '@/components/pages/home-page'\r\n\r\nexport default function Home() {\r\n  return (\r\n    <CounterStoreProvider>\r\n      <HomePage />\r\n    </CounterStoreProvider>\r\n  )\r\n}\n"})})]})}function l(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>u});var t=n(6540);const o={},s=t.createContext(o);function i(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function u(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);